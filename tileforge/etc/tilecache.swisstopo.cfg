[cache]
module = tileforge.utils.cache.s3
type = AWSS3
bucket_name = akiai4jxkwjqv5tgsaoq-wmts
access_key = AKIAI4JXKWJQV5TGSAOQ
secret_access_key = 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
validate = false
# Whether to create an SSL connection to s3, if the tile are generated
# inside the aws network, this can be set to false. Defaults to true.
is_secure = false

[metadata]
#mail_to = foo@example.com, bar@example.com
wmts_gettile = http://akiai4jxkwjqv5tgsaoq-wmts.s3-external-3.amazonaws.com
wmts_capabilites_path = /1.0.0/WMTSCapabilities.xml
stats_dir = /var/log/tileforge/stats
error_dir = /var/log/tileforge/errors
#extends = tilecache.master.cfg /etc/tilecache.cfg

[DEFAULT]
# default values for all layers:
module = tileforge.utils.layers.wms
type = WMS
yorigin = top
url = http://wms-bod-tile.bgdi.admin.ch/?lang=de
srs = EPSG:21781
units = meters
resolutions = 4000,3750,3500,3250,3000,2750,2500,2250,2000,1750,1500,1250,1000,750,650,500,250,100,50,20,10,5,2.5,2,1.5,1,0.5
bbox = 420000,30000,900000,350000

metaTile = false
metaSize = 1,1

metadata_matrix_set = 21781
extension = png
mime_type = image/png; mode=32bit

metadata_connection_common = host=lbh-pg.bgdi.admin.ch user=www-data password=www-data

# base layers
[ch.swisstopo.swissimage]
url = http://wms-swisstopo-tile.bgdi.admin.ch/?lang=de
layers = ch.swisstopo.swissimage,ch.swisstopo.watermark
extension = jpeg
mime_type = image/jpeg
metadata_dimension = 20110228
metadata_image_postproc = jpegoptim --strip-all -q %filename
# plus zusatzzoomstufe 0.25
resolutions = 4000,3750,3500,3250,3000,2750,2500,2250,2000,1750,1500,1250,1000,750,650,500,250,100,50,20,10,5,2.5,2,1.5,1,0.5,0.25

[ch.swisstopo.pixelkarte-farbe]
url = http://wms-swisstopo-tile.bgdi.admin.ch/
layers = ch.swisstopo.pixelkarte-farbe,ch.swisstopo.watermark
extension = jpeg
mime_type = image/jpeg
metadata_dimension = 20110401
metadata_image_postproc = jpegoptim --strip-all -q %filename

[ch.swisstopo.pixelkarte-grau]
url = http://wms-swisstopo-tile.bgdi.admin.ch/
layers = ch.swisstopo.pixelkarte-grau,ch.swisstopo.watermark
extension = jpeg
mime_type = image/jpeg
metadata_dimension = 20110401
metadata_image_postproc = jpegoptim --strip-all -q %filename

# overlays
[ch.bfs.gebaeude_wohnungs_register]
metaTile = true
metaBuffer = 10
metadata_dimension = 20110509
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=kogis
metadata_data = "the_geom FROM bfs.adr"

[ch.ensi.zonenplan-notfallschutz-kernanlagen]
metadata_dimension = 20110412
metadata_image_postproc = optipng -q -zc9 -zm8 -zs1 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=dritte
metadata_data = "ST_Union(the_geom) FROM ensi.zonenplan_kernanlagen"

[ch.swisstopo.hiks-dufour]
url = http://wms-swisstopo-tile.bgdi.admin.ch/
metadata_dimension = 18450101
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=tile_meta
metadata_data = "the_geom FROM ch_swisstopo_hiks_dufour"

[ch.swisstopo.hiks-siegfried]
url = http://wms-swisstopo-tile.bgdi.admin.ch/
metadata_dimension = 18700101
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=tile_meta
metadata_data = "the_geom FROM ch_swisstopo_hiks_siegfried"

[ch.swisstopo.vec25-anlagen]
metadata_dimension = 20090401
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM v25_anl_25_a"

[ch.swisstopo.vec25-eisenbahnnetz]
metadata_dimension = 20090401
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM v25_eis_25_l"

[ch.swisstopo.vec25-gewaessernetz]
# small buffer to workaround gap between tiles
metaTile = true
metaBuffer = 2
metadata_dimension = 20090401
metadata_image_postproc = optipng -q -zc9 -zm8 -zs1 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM v25_gwn_25_l"

[ch.swisstopo.vec25-primaerflaechen]
metadata_dimension = 20090401
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM v25_pri25_a"

[ch.swisstopo.vec25-uebrigerverkehr]
metadata_dimension = 20090401
metadata_image_postproc = optipng -q -zc9 -zm8 -zs1 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM v25_uvk_25_l"

[ch.swisstopo.vec25-gebaeude]
metadata_dimension = 20090401
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM v25_geb_25_a"

[ch.swisstopo.vec25-strassennetz]
metadata_dimension = 20090401
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM v25_str_25_l"

[ch.swisstopo.vec25-wander]
# small buffer to workaround gap between tiles
metaTile = true
metaBuffer = 2
metadata_dimension = 20090401
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM v25_wanderweg"

[ch.swisstopo.gg25-gemeinde-flaeche.fill]
url = http://wms-bgdi-tile.bgdi.admin.ch/nonesri/?lang=de
metadata_dimension = 20090601
metadata_image_postproc = optipng -q -zc9 -zm8 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
# For all the polygon in multipolygon; return a list of linestring made up of
# the exterior ring and all the interior rings.
metadata_data = "ST_ExteriorRing((ST_DumpRings(geom.poly)).geom) FROM
    (SELECT ST_GeometryN(the_geom, generate_series(1, ST_NumGeometries(the_geom))) AS poly FROM gg25) AS geom"

[ch.swisstopo.gg25-bezirk-flaeche.fill]
url = http://wms-bgdi-tile.bgdi.admin.ch/nonesri/?lang=de
metadata_dimension = 20090601
metadata_image_postproc = optipng -q -zc9 -zm8 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "ST_ExteriorRing((ST_DumpRings(geom.poly)).geom) FROM
    (SELECT ST_GeometryN(the_geom, generate_series(1, ST_NumGeometries(the_geom))) AS poly FROM bezirke25) AS geom"

[ch.swisstopo.gg25-kanton-flaeche.fill]
url = http://wms-bgdi-tile.bgdi.admin.ch/nonesri/?lang=de
metadata_dimension = 20090601
metadata_image_postproc = optipng -q -zc9 -zm8 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "ST_ExteriorRing((ST_DumpRings(geom.poly)).geom) FROM
    (SELECT ST_GeometryN(the_geom, generate_series(1, ST_NumGeometries(the_geom))) AS poly FROM kantone25) AS geom"

[ch.swisstopo.gg25-land-flaeche.fill]
metadata_dimension = 20090601
metadata_image_postproc = optipng -q -zc9 -zm8 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "ST_ExteriorRing((ST_DumpRings(geom.poly)).geom) FROM
    (SELECT ST_GeometryN(the_geom, generate_series(1, ST_NumGeometries(the_geom))) AS poly FROM ganze_schweiz) AS geom"

[ch.swisstopo-karto.wanderwege]
metadata_dimension = 20110124
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM karto.wanderwege_swissmap"

[ch.swisstopo.fixpunkte-agnes]
metaTile = true
metaBuffer = 20
metadata_dimension = 20110509
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=kogis
metadata_data = "the_geom FROM fpds.agnes"

[ch.swisstopo.fixpunkte-lage]
metaTile = true
metaBuffer = 20
metadata_dimension = 20110509
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=kogis
metadata_data = "the_geom FROM fpds.punkt"

[ch.swisstopo.fixpunkte-hoehe]
metaTile = true
metaBuffer = 20
metadata_dimension = 20110509
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=kogis
metadata_data = "the_geom FROM fpds.punkt WHERE ordnung IN ('HFP1.HFP1', 'HFP2.HFP2', 'HFP2.deklassierterHFP1')"

[ch.bfs.arealstatistik-1985]
metaTile = true
metaBuffer = 20
metadata_dimension = 19790101
metadata_image_postproc = optipng -q -zc8 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=edi
metadata_data = "the_geom FROM bfs.arealstatistik_1985"

[ch.bfs.arealstatistik-1997]
metaTile = true
metaBuffer = 20
metadata_dimension = 19920101
metadata_image_postproc = optipng -q -zc8 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=edi
metadata_data = "the_geom FROM bfs.arealstatistik_1997"

[ch.swisstopo.vec200-landcover-wald]
metadata_dimension = 20090430
metadata_image_postproc = optipng -q -zc9 -zm9 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM vec200_landcover WHERE objval = 'Wald' AND ST_Area(the_geom) > 1000000"

[ch.swisstopo.vec200-transportation-oeffentliche-verkehr]
metaTile = true
metaBuffer = 20
metadata_dimension = 20100101
metadata_image_postproc = optipng -q -zc9 -zm8 -zs1 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM vec200_airport", "the_geom FROM vec200_railway",
	        "the_geom FROM vec200_terminal", "the_geom FROM vec200_runway",
		"the_geom FROM vec200_ship"

[ch.swisstopo.vec200-transportation-strassennetz]
metaTile = true
metaBuffer = 20
metadata_dimension = 20100101
metadata_image_postproc = optipng -q -zc9 -zm9 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM vec200_road", "the_geom FROM vec200_ramp",
	        "the_geom FROM vec200_trafficinfo", "the_geom FROM vec200_interchange",
		"the_geom FROM vec200_ship", "the_geom FROM vec200_customsoffice"

[ch.swisstopo.geologie-eiszeit-lgm-raster]
metadata_dimension = 20081231
metadata_image_postproc = optipng -q -zc9 -zm9 -zs1 -f5 %filename

[ch.swisstopo.geologie-geodaesie-bouguer_anomalien]
metadata_dimension = 19791231
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM geol.geodaesie_bouguer_anomalien"

[ch.swisstopo.geologie-geodaesie-isostatische_anomalien]
metadata_dimension = 19791231
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM geol.schwerekarte_isostatische_anomalien"

[ch.swisstopo.geologie-geologische_karte]
metadata_dimension = 20051231
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f5 %filename

[ch.swisstopo.geologie-geologischer_atlas]
metadata_dimension = 20101221
metadata_image_postproc = optipng -q -zc9 -zm8 -zs3 -f5 %filename
metadata_connection = %(metadata_connection_common)s dbname=tile_meta
metadata_data = "the_geom FROM ch_swisstopo_geologie_geologischer_atlas"

[ch.swisstopo.geologie-geophysik-aeromagnetische_karte_schweiz]
url = http://wms-bgdi-tile.bgdi.admin.ch/nonesri/?lang=de
metadata_dimension = 19821231
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM geol.gravimetrie_aeromagnetik_ch"

[ch.swisstopo.geologie-geophysik-deklination]
url = http://wms-bgdi-tile.bgdi.admin.ch/nonesri/?lang=de
metadata_dimension = 19791231
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM geol.geophysik_deklination"

[ch.swisstopo.geologie-geophysik-geothermie]
url = http://wms-bgdi-tile.bgdi.admin.ch/nonesri/?lang=de
metadata_dimension = 19821231
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM geol.geophysik_geothermie"

[ch.swisstopo.geologie-geophysik-inklination]
url = http://wms-bgdi-tile.bgdi.admin.ch/nonesri/?lang=de
metadata_dimension = 19791231
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM geol.geophysik_inklination"

[ch.swisstopo.geologie-geophysik-totalintensitaet]
url = http://wms-bgdi-tile.bgdi.admin.ch/nonesri/?lang=de
metadata_dimension = 19791231
metadata_image_postproc = optipng -q -zc9 -zm9 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM geol.geophysik_totalintensitaet"

[ch.swisstopo.geologie-hydrogeologische_karte-grundwasservorkommen]
metadata_dimension = 20070101
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename

[ch.swisstopo.geologie-hydrogeologische_karte-grundwasservulnerabilitaet]
metadata_dimension = 20070914
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename

[ch.swisstopo.geologie-tektonische_karte]
metadata_dimension = 20051231
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename

[ch.babs.kulturgueter]
url = http://wms-bgdi-tile.bgdi.admin.ch/nonesri/?lang=de
metaTile = true
metaBuffer = 20
metadata_dimension = 20091127
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=vbs
metadata_data = "the_geom FROM babs.kgs"

[ch.bafu.bundesinventare-amphibien]
metaTile = true
metaBuffer = 20
metadata_dimension = 20070701
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM bundinv.am_g", "the_geom FROM bundinv.am_l"

[ch.bafu.bundesinventare-auen]
metadata_dimension = 20070701
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM bundinv.au"

[ch.bafu.bundesinventare-bln]
metadata_dimension = 20010809
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM bundinv.bln"

[ch.bafu.bundesinventare-flachmoore]
metadata_dimension = 20100623
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM bundinv.fm"

[ch.bafu.bundesinventare-hochmoore]
metadata_dimension = 20080721
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM bundinv.hm"

[ch.bafu.bundesinventare-jagdbanngebiete]
metadata_dimension = 20100801
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM bundinv.jb"

[ch.bafu.bundesinventare-moorlandschaften]
metadata_dimension = 20070701
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM bundinv.ml"

[ch.bafu.bundesinventare-vogelreservate]
metadata_dimension = 20090617
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM bundinv.wv"

[ch.bafu.fauna-steinbockkolonien]
metadata_dimension = 20020114
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM fauna.sb"

[ch.bafu.gefahren-gefaehrdungszonen]
metadata_dimension = 20030101
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM gefahren.gfz"

[ch.bafu.holznutzung]
metadata_dimension = 20100310
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM wald.holznutzung"

[ch.bafu.holzvorrat]
metadata_dimension = 20100310
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM wald.holzvorrat"

[ch.bafu.holzzuwachs]
metadata_dimension = 20100310
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM wald.holzzuwachs"

[ch.bafu.hydrologie-hydromessstationen]
url = http://wms-bgdi-tile.bgdi.admin.ch/nonesri/?lang=de
metaTile = true
metaBuffer = 20
metadata_dimension = 20081201
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM hydrologie.lhg"

[ch.bafu.laerm-bahnlaerm_tag]
metadata_dimension = 20101109
metadata_image_postproc = optipng -q -zc9 -zm8 -zs1 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "ST_Buffer(the_geom, 200) FROM ch_fl"

[ch.bafu.laerm-bahnlaerm_nacht]
metadata_dimension = 20101109
metadata_image_postproc = optipng -q -zc9 -zm8 -zs1 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "ST_Buffer(the_geom, 200) FROM ch_fl"

[ch.bafu.laerm-strassenlaerm_tag]
metadata_dimension = 20101109
metadata_image_postproc = optipng -q -zc9 -zm8 -zs1 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "ST_Buffer(the_geom, 200) FROM ch_fl"

[ch.bafu.laerm-strassenlaerm_nacht]
metadata_dimension = 20101109
metadata_image_postproc = optipng -q -zc9 -zm8 -zs1 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "ST_Buffer(the_geom, 200) FROM ch_fl"

[ch.bafu.nabelstationen]
metaTile = true
metaBuffer = 10
metadata_dimension = 20110309
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM luft.nabel"

[ch.bafu.permafrost]
metadata_dimension = 20110317
metadata_image_postproc = optipng -q -zc9 -zm8 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=tile_meta
metadata_data = "the_geom FROM ch_bafu_permafrost"

[ch.bafu.ren-extensive_landwirtschaftsgebiete]
metadata_dimension = 20110214
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "ST_Buffer(the_geom, 0) FROM ren.ext"

[ch.bafu.ren-feuchtgebiete]
metadata_dimension = 20110214
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "ST_Buffer(the_geom, 0) FROM ren.humide"

[ch.bafu.ren-fliessgewaesser_seen]
metadata_dimension = 20110214
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "ST_Buffer((ST_Dump(the_geom)).geom, 0) FROM ren.aqua"

[ch.bafu.ren-trockenstandorte]
metadata_dimension = 20110214
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "ST_Buffer(the_geom, 0) FROM ren.seche"

[ch.bafu.ren-wald]
metadata_dimension = 20110214
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
# because the geometries are too big, we use the ch_fl geom and not
# the original one
#metadata_connection = %(metadata_connection_common)s dbname=bafu
#metadata_data = "the_geom_gen25 FROM ren.foret"
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM ch_fl"

[ch.bfs.arealstatistik-waldmischungsgrad]
metadata_dimension = 19970901
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM ch_fl"

[ch.bfs.arealstatistik-hintergrund]
metadata_dimension = 20070116
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM ch_fl"

[ch.bafu.schutzgebiete-paerke_nationaler_bedeutung]
metadata_dimension = 20110103
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM schutzge.paerke_nationaler_bedeutung"

[ch.bafu.schutzgebiete-ramsar]
metadata_dimension = 20050202
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM schutzge.ra"

[ch.bafu.schutzgebiete-schweizerischer_nationalpark]
metadata_dimension = 20010117
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=tile_meta
metadata_data = "the_geom FROM ch_bafu_schutzgebiete_schweizerischer_nationalpark"

[ch.bafu.schutzgebiete-wildruhezonen]
metadata_dimension = 20101201
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "ST_Buffer(the_geom, 0) FROM schutzge.wildruhezonen"

[ch.bafu.showme-gemeinden_hochwasser]
metadata_dimension = 20100101
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM ch_fl"

[ch.bafu.showme-gemeinden_lawinen]
metadata_dimension = 20100101
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM ch_fl"

[ch.bafu.showme-gemeinden_rutschungen]
metadata_dimension = 20100101
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM ch_fl"

[ch.bafu.showme-gemeinden_sturzprozesse]
metadata_dimension = 20100101
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM ch_fl"

[ch.bafu.showme-kantone_hochwasser]
metadata_dimension = 20100101
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM ch_fl"

[ch.bafu.showme-kantone_lawinen]
metadata_dimension = 20100101
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM ch_fl"

[ch.bafu.showme-kantone_rutschungen]
metadata_dimension = 20100101
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM ch_fl"

[ch.bafu.showme-kantone_sturzprozesse]
metadata_dimension = 20100101
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM ch_fl"

[ch.bafu.swissprtr]
metaTile = true
metaBuffer = 10
metadata_dimension = 20110222
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM prtr.swissprtr"

[ch.bafu.wasser-entnahme]
# using the mapfile with label:
url = http://wms-bgdi-tile.bgdi.admin.ch/nonesri/
# large buffer because of the labels:
metaTile = true
metaBuffer = 200
metadata_dimension = 20040101
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM wasser.invent_ent_andere_bedeutend", "the_geom FROM wasser.invent_ent_andere_weitere",
                "the_geom FROM wasser.invent_ent_wknutz_bedeutend", "the_geom FROM wasser.invent_ent_wknutz_weitere"

[ch.bafu.wasser-leitungen]
metadata_dimension = 20040101
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM wasser.leitungen"

[ch.bafu.wasser-rueckgabe]
metaTile = true
metaBuffer = 10
metadata_dimension = 20040101
metadata_image_postproc = optipng -q -zc9 -zm8 -zs1 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "the_geom FROM wasser.rueckgabe"

[ch.bafu.wege-wildruhezonen-jagdbanngebiete]
url = http://wms-bgdi-tile.bgdi.admin.ch/nonesri/?lang=de
metadata_dimension = 20110310
metadata_image_postproc = optipng -q -zc9 -zm8 -zs1 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=bafu
metadata_data = "ST_Buffer(the_geom, 0) FROM schutzge.wildruhezonen_jagdbanngebiete"

[ch.are.belastung-personenverkehr-strasse-2008]
metadata_dimension = 20080101
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=are
metadata_data = "the_geom FROM strassen.belastung_personenverkehr_strasse_2008"

[ch.are.belastung-personenverkehr-bahn-2008]
metadata_dimension = 20080101
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=are
metadata_data = "the_geom FROM oeffentlicher_verkehr.belastung_personenverkehr_bahn_2008"

[ch.are.belastung-gueterverkehr-strasse-2008]
metadata_dimension = 20080101
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=are
metadata_data = "the_geom FROM strassen.belastung_gueterverkehr_strasse_2008"

[ch.are.belastung-gueterverkehr-bahn-2008]
metadata_dimension = 20080101
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=are
metadata_data = "the_geom FROM oeffentlicher_verkehr.belastung_gueterverkehr_bahn_2008"

[ch.are.alpenkonvention]
metadata_dimension = 20090101
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=are
metadata_data = "the_geom FROM siedlung_landschaft.alpenkonvention"

[ch.are.bevoelkerungsdichte-vz00]
metaTile = true
metaBuffer = 10
metadata_dimension = 20001205
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=are
metadata_data = "the_geom FROM siedlung_landschaft.bevoelkerungsdichte_vz00"

[ch.are.beschaeftigtendichte-bz08]
metaTile = true
metaBuffer = 5
metadata_dimension = 20080930
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=are
metadata_data = "the_geom FROM siedlung_landschaft.beschaeftigtendichte_bz08"

[ch.are.agglomerationen_isolierte_staedte-2000]
metadata_dimension = 20090101
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=are
metadata_data = "the_geom FROM siedlung_landschaft.agglomerationen_isolierte_staedte_2000"

[ch.are.landschaftstypen]
metadata_dimension = 20100831
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=are
metadata_data = "ST_Buffer(the_geom, 0) FROM siedlung_landschaft.landschaftstypen"

[ch.are.gueteklassen_oev]
metadata_dimension = 20091213
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=are
metadata_data = "the_geom FROM oeffentlicher_verkehr.gueteklassen"

[ch.are.reisezeit_miv-2005]
# large buffer because of the labels:
metaTile = true
metaBuffer = 100
metadata_dimension = 20050101
metadata_image_postproc = optipng -q -zc9 -zm8 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=are
metadata_data = "ST_Buffer(the_geom, 0) FROM strassen.reisezeit_miv_2005", 
                "the_geom FROM siedlung_landschaft.metropolen"

[ch.are.reisezeit_oev-2005]
# large buffer because of the labels:
metaTile = true
metaBuffer = 100
metadata_dimension = 20050101
metadata_image_postproc = optipng -q -zc9 -zm8 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=are
metadata_data = "ST_Buffer(the_geom, 0) FROM oeffentlicher_verkehr.reisezeit_oev_2005",
	        "the_geom FROM siedlung_landschaft.metropolen"

[ch.are.bauzonen-2007]
metadata_dimension = 20070101
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=are
metadata_data = "the_geom FROM siedlung_landschaft.bauzonen_2007"

[ch.are.gemeindetyp-1990-9klassen]
metadata_dimension = 20090101
metadata_image_postproc = optipng -q -zc9 -zm8 -zs0 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=are
metadata_data = "the_geom FROM siedlung_landschaft.gemeindetyp_1990_9klassen"

[ch.astra.ivs-nat]
# small buffer to workaround gap between tiles
metaTile = true
metaBuffer = 2
metadata_dimension = 20070712
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=ivs2b
metadata_data = "ivs_geometrie FROM nat_sub0", "ivs_geometrie FROM nat_sub1", "ivs_geometrie FROM nat_sub2"

[ch.astra.ivs-reg_loc]
# small buffer to workaround gap between tiles
metaTile = true
metaBuffer = 2
metadata_dimension = 20070712
metadata_image_postproc = optipng -q -zc9 -zm8 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=ivs2b
metadata_data = "ivs_geometrie FROM reg_sub0", "ivs_geometrie FROM reg_sub1", "ivs_geometrie FROM reg_sub2",
                "ivs_geometrie FROM loc_sub0", "ivs_geometrie FROM loc_sub1", "ivs_geometrie FROM loc_sub2"

[ch.astra.ivs-gelaendekarte]
metadata_dimension = 19980816
metadata_image_postproc = optipng -q -zc9 -zm8 -zs1 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=tile_meta
metadata_data = "the_geom FROM ch_astra_ivs_gelaendekarte"

[ch.blw.steil_terrassenlagen_rebbau]
url = http://wms-bgdi-tile.bgdi.admin.ch/nonesri/?lang=de
metadata_dimension = 20100501
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
# Only generate data inside Switzerland. This layer has data about 100m
# outside the land: bufferize a bit
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "ST_Buffer(the_geom, 300) FROM ch_fl"

[ch.blw.hang_steillagen]
url = http://wms-bgdi-tile.bgdi.admin.ch/nonesri/?lang=de
metadata_dimension = 20100501
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
# Only generate data inside Switzerland.
metadata_connection = %(metadata_connection_common)s dbname=stopo
metadata_data = "the_geom FROM ch_fl"

[ch.tamedia.schweizerfamilie-feuerstellen]
metaTile = true
metaBuffer = 100
metadata_dimension = 20110124
metadata_image_postproc = optipng -q -zc9 -zm9 -zs3 -f0 %filename
metadata_connection = %(metadata_connection_common)s dbname=dritte
metadata_data = "the_geom FROM tamedia.feuerstellen"

# for http://www.geoportail.fr/
[ch.swisstopo.pixelkarte-farbe-pk.etrs89]
layers = ch.swisstopo.pixelkarte-farbe,ch.swisstopo.watermark
url = http://wms-swisstopo-tile.bgdi.admin.ch/?lang=de
metadata_dimension = 20110401
srs = EPSG:4258
units = degrees
yorigin = bottom
bbox = 0.0,0.0,11.479044,48.232047
resolutions =  0.035997544090479137,0.033747697584824196,0.031497851079169255,0.029248004573514307,0.026998158067859355,
  0.024748311562204410,0.022498465056549469,0.020248618550894520,0.017998772045239569,0.015748925539584627,0.013499079033929677,
  0.011249232528274734,0.008999386022619784,0.006749539516964839,0.005849600914702860,0.004499693011309892,0.002249846505654946,
  0.000899938602261979,0.000449969301130989,0.000179987720452396,0.000089993860226198,0.000044996930113099,0.000022498465056549,
  0.000017998772045240,0.000008999386022620,0.000004499693011310
extension = jpeg
mime_type = image/jpeg
metadata_image_postproc = jpegoptim --strip-all -q %filename

# for http://www.geoportail.fr/
[ch.swisstopo.swissimage.etrs89]
layers = ch.swisstopo.swissimage,ch.swisstopo.watermark
url = http://wms-swisstopo-tile.bgdi.admin.ch/?lang=de
metadata_dimension = 20110401
srs = EPSG:4258
units = degrees
yorigin = bottom
bbox = 0.0,0.0,11.479044,48.232047
resolutions =  0.035997544090479137,0.033747697584824196,0.031497851079169255,0.029248004573514307,0.026998158067859355,
  0.024748311562204410,0.022498465056549469,0.020248618550894520,0.017998772045239569,0.015748925539584627,0.013499079033929677,
  0.011249232528274734,0.008999386022619784,0.006749539516964839,0.005849600914702860,0.004499693011309892,0.002249846505654946,
  0.000899938602261979,0.000449969301130989,0.000179987720452396,0.000089993860226198,0.000044996930113099,0.000022498465056549,
  0.000017998772045240,0.000008999386022620,0.000004499693011310
extension = jpeg
mime_type = image/jpeg
metadata_image_postproc = jpegoptim --strip-all -q %filename
